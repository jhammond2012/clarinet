OP_PUSHBYTES_4 ${swapperId}
OP_DROP
OP_IF
  OP_SHA256 OP_PUSHBYTES_32 ${hash}
  OP_EQUALVERIFY
  OP_PUSHBYTES_33 ${supplierPublicKey}
OP_ELSE
  OP_PUSHBYTES_2 f401
  OP_CSV
  OP_DROP
  OP_PUSHBYTES_33 ${swapperPublicKey}
OP_ENDIF
OP_CHECKSIG